この問題は木の直径（最も離れた 2 つの頂点間の距離）を求める問題です。木の直径を求めるアルゴリズムは以下の手順となる。

1. 任意の頂点（ここでは頂点 0）から DFS を行い、最も遠い頂点を見つける
2. その最も遠い頂点から再度 DFS を行い、そこから最も遠い頂点を見つける
3. この 2 回目の DFS で得られる最大距離が　木の直径となる

### 木の直径とは

木の中で最も離れた２つの地頂点間の距離のこと。

視覚的な例を考えてみる。

```
  A
 / \
 B C
/ / \
D E F
```

この木で、すべての頂点ペア間の距離を調べてみる。

```
A-B: 1 A-C: 1 A-D: 2 A-E: 2 A-F: 2
B-C: 2 B-D: 1 B-E: 3 B-F: 3
C-D: 3 C-E: 1 C-F: 1
D-E: 3 D-F: 3
E-F: 2
```

この中で最も長い距離は 3 です（例 B-E, B-F,C-D, D-E, D-F )。

この木の直径は 3 になる。

問題文で求められているのは、「同じ道を 2 度通らずにある都市から同じ都市に戻ってくる経路における、通った道の本数」
これが、スコアとして考えられる最大の値となる

### 木構造における直径が、なぜ 2 回の DFS で求まるのか。

任意の頂点から最も遠い頂点は、必ず木の直径の端点の 1 つである、という性質がある。

まとめ...
どの頂点から始めても、1 回目で必ず直径の端点の 1 つに到達し、2 回目で必ずもう一方の端点に到達する。
※この性質は木構造特有のもので、グラフに環がある場合は成立しない。

グラフの始点が頂点であるとは限らないので、まずいったん頂点に移動する。その後、頂点に移動することで、直径が求まる。
