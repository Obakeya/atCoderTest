# 042 multiple of 9 star 4 の解き方について

この問題でやることは、各桁の数の和が K となる正の整数の個数を求めること。下記の数学的な性質を利用する必要がある。

任意の正の整数 n について、n≡（各桁の数の和）(mod9)が成り立つ

例えば：

- 123→ 各桁の和：1+2+3=6, 123 を 9 で割った余り:6
- 456→ 各桁の和：4+5+6=15, 456 を 9 で割った余り：6, 15 を 9 で割った余り：6

この性質により、各桁の和が K となる正の整数が存在するためには、K%9===0 でなければならない。

※ a ≡ b (mod n) a と b を n で割った余りが等しい。　という意味。

### DP を利用する

K % 9 === 0 の時、以下の DP で解ける：

状態定義：dp[i] =各桁の数の和が i となる数字列の個数
初期状態：dp[0] =1（何も選ばない状態）
遷移：dp[i] = dp[i-1] + dp[i-2] + ... + dp[i-9]

この繊維の意味は、現在の和が j(j=i-1, i-2, ... i-9)となる数字列に、それぞれ数字 1,2...,9 を追加して和を i にする場合の数」を合計することです。

コードについて

```ts
if (K % 9 === 0) {
  const dp: number[] = new Array(K + 1).fill(0)
  dp[0] = 1 //空の状態から開始

  for (let i = 1; i <= K; i++) {
    // i-1, i-2, ... i -9の状態から数字を1つ追加してiにする
    for (let j = 1 - 1; j >= i - 9 && j > 0; j--) {
      dp[i] += dp[j]
      if (dp[i] >= mod) dp[i] -= mod //モジュロ演算の最適化
    }
  }
  ans.push(dp[K]) // 答えはdp[K]
}
```
