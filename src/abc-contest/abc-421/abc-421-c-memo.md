## ある A をどこに移動させるべきかをどう決めるのか

**文字列を左から右に読んで、A 文字が出現する順番と、理想形の文字列での出現順番と同一の位置に移動させるように決めます。**

### 具体例で説明

`AABBBA` の場合：

```
文字列: A A B B B A
位置:   0 1 2 3 4 5
        ↑ ↑       ↑
      1番目 2番目  3番目
        のA   のA    のA
```

- **1 番目の A**: 文字列で最初に出現する A（位置 0 にある）
- **2 番目の A**: 文字列で 2 番目に出現する A（位置 1 にある）
- **3 番目の A**: 文字列で 3 番目に出現する A（位置 5 にある）

## それぞれをどこに置くかの決め方

### パターン 1 (`ABABAB`) の場合

**「A 文字は奇数番目の場所に順番に置く」**

```
目標: A B A B A B
位置: 0 1 2 3 4 5
      ↑   ↑   ↑
    1番目 2番目 3番目
     のA   のA   のA
```

- 1 番目の A → 位置 0 に置く
- 2 番目の A → 位置 2 に置く
- 3 番目の A → 位置 4 に置く

### パターン 2 (`BABABA`) の場合

**「A 文字は偶数番目の場所に順番に置く」**

```
目標: B A B A B A
位置: 0 1 2 3 4 5
        ↑   ↑   ↑
      1番目 2番目 3番目
       のA   のA   のA
```

- 1 番目の A → 位置 1 に置く
- 2 番目の A → 位置 3 に置く
- 3 番目の A → 位置 5 に置く

## なぜこの順番なのか

**理由**: 同じ種類の文字同士の相対的な順番は変えられないからです。

隣接する文字しか交換できないので：

- 1 番目の A が 3 番目の A を追い越すことはできない
- A 文字同士の順番は最初から最後まで保たれる

だから、文字列で最初に出現した A は、目標パターンでも最初の A 用の場所に置くしかないのです。

## 移動距離の計算

`AABBBA` の例：

**パターン 1 の場合：**

- 1 番目の A: 位置 0 → 位置 0 （移動距離 0）
- 2 番目の A: 位置 1 → 位置 2 （移動距離 1）
- 3 番目の A: 位置 5 → 位置 4 （移動距離 1）

**パターン 2 の場合：**

- 1 番目の A: 位置 0 → 位置 1 （移動距離 1）
- 2 番目の A: 位置 1 → 位置 3 （移動距離 2）
- 3 番目の A: 位置 5 → 位置 5 （移動距離 0）

つまり、「何番目の A」は出現順で決まり、「どこに置くか」は目標パターンで決まる、ということです。
