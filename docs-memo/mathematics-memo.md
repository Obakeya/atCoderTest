### 合同式とは

合同式は、18 世紀の数学者ガウスによって導入された概念で、「異なる整数を、ある数で割った余りによってグループ分けする」という考え方。合同式は、周期的な現象を

#### 合同式の定義

整数 a、b、n に対して、 a ≡ b(mod n)と書いて「a は b と n を法として合同である」と読みます。
これは、以下の 2 つの条件のいずれかが成り立つことを意味します。

13 % 12 = 1

1. a と b を n で割った余りが等しい
2. a-b が n の倍数である

   つまり、 a ≡ b(mod n)⇔ a - b =kn(k は整数)

具体例で考える。例えば、 13 時と 1 時は合同である。

実際に確認すると、
13÷12=1 余り 1
1÷12=0 余り 1
これらは、余りが同じなので合同である、と言える。

合同式の定義に当てはめると、

13 ≡ 1(mod 12) とかく。

### mod 演算と合同式の関係

a mod n = b ⇔ a = b (mod n)
上記のように、式を変形できる。
左辺は
a を n で割った余りが b という意味となり、
右辺は a と b は n で割った余りが同じ、という意味になる

例
13 mod 10 = 3 となる　
ここで、　
合同式の関係より
13 = 3 ( mod 10)

a mod b = 演算（計算）
「a を b で割った余り」という具体的な値を求める
c (mod d) = 条件・関係
「d で割った余りが同じ」という関係性を表す

### べき乗とは

べき乗とは、同じ数を自信になんども掛ける計算方法のこと

### 累積和

左から順番に足していった結果を、全部覚えておくこと。

累積和は、1 つの数字ではなく、配列全体のことを指します。

```
元の配列: [100, 200, 50, 300]
累積和配列: [100, 300, 350, 650]
↑ ↑ ↑ ↑
全部が累積和の一部
```

それぞれの意味

100: 1 日目までの累計
300: 2 日目までの累計
350: 3 日目までの累計
650: 4 日目までの累計

どの位置の累計も「累積和」と呼びます。

#### 全ての組み合わせの積の和を高速化する

「i < j なる全ての組について A_i × A_j の和」を求める問題で使用する。
愚直に二重ループで計算すると O(N²) だが、累積和を使うと O(N) で解ける。

**発想の転換がポイント**

愚直解の視点: A_1×A_2 + A_1×A_3 + A_1×A_4 + A_2×A_3 + A_2×A_4 + A_3×A_4

累積和の視点: 各要素から見て「その要素 × 前の要素の合計」
A_2 × (A_1) + A_3 × (A_1+A_2) + A_4 × (A_1+A_2+A_3)

**実装パターン**

```typescript
let answer = 0n
let sum = 0n // 累積和

for (let i = 0; i < nums.length; i++) {
  answer += sum * BigInt(nums[i]) // 現在の要素 × これまでの累積和
  sum += BigInt(nums[i]) // 次のループのために累積和を更新
}
```

**計算例：[1, 2, 3, 4]**

```
i=0: answer += 0 × 1 = 0, sum = 1
i=1: answer += 1 × 2 = 2, sum = 3
i=2: answer += 3 × 3 = 9, sum = 6
i=3: answer += 6 × 4 = 24, sum = 10
結果: 2 + 9 + 24 = 35
```

注意：答えが大きくなる場合は BigInt を使用する。

### 添字とは

添字（そえじ）とは、配列の各要素の**位置を表す番号**のことです。
インデックスとも呼ばれます。

**例：**
配列 [1, 3, 5, 7, 9] があるとき：

- 添字 0：値 1
- 添字 1：値 3
- 添字 2：値 5
- 添字 3：値 7
- 添字 4：値 9

プログラミングでは通常、添字は 0 から始まります。

### 4 近傍とは

「4 近傍（よんきんぼう）」は格子状のグリッドで、あるマスの上下左右に接する 4 つのマスの酒豪を指します。対角方向（斜め）は含めません。

対照的に、上下左右+斜め 4 方向を加えた 8 つの隣接マスは「8 近傍（はちきんぼう）」と呼びます。
